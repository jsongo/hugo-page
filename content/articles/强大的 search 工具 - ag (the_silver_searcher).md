---
updated_at: 2024-10-27T11:31:09.698+08:00
edited_seconds: 220
tags:
  - study/å·¥å…·/IT
created_at: Thu, Nov 21st, 2024 - 18:21:19
banner_icon: ğŸ¦–
banner: "https://cdn.jsongo.top/banners/0b3d83738bddc53706e70a9dfd187061.jpg"
description: ä»‹ç»äº† ag å·¥å…·çš„å®‰è£…å’Œä½¿ç”¨æ–¹æ³•ï¼ŒåŒ…æ‹¬æœç´¢æ–‡ä»¶åã€å¸¸ç”¨å‚æ•°ç­‰
title: å¼ºå¤§çš„ search å·¥å…· - ag
slug: search-tool-ag-the-silver-searcher
draft: false
date: 2025-02-27T11:31:09.698+08:00
---
# å®‰è£…
```bash
brew install the_silver_searcher
```
# ä½¿ç”¨
## åªæœæ–‡ä»¶å
ç›´æ¥ä½¿ç”¨æ—¶ï¼Œag ä¼šæ£€ç´¢å†…å®¹ã€‚éœ€è¦æ·»åŠ  `-g` å‚è€ƒ
```bash
ag -g .mp4 .
```
## æ­£å¸¸ä½¿ç”¨
```bash
ag -i foo ./bar/
```
-i ç”¨äºå¿½ç•¥å¤§å°å†™

```shell
ag 'useEffect' --js
```
åªåœ¨ JS æ–‡ä»¶ä¸­æŸ¥ useEffectã€‚

```shell
ag --multiline '^def .+\n +"""'
```
æŸ¥ Python å‡½æ•°å®šä¹‰åé¢ç´§è·Ÿ docstring çš„æƒ…å†µã€‚

```shell
ag -l 'OldName' | xargs sed -i 's/OldName/NewName/g'
```
æŸ¥åˆ°æ–‡ä»¶ä¸­åŒ…å« OldName çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæ‰¹é‡åšæ›¿æ¢ã€‚

```shell
ag -C 2 'class User'
```
æ˜¾ç¤ºåŒ¹é…è¡Œçš„ä¸Šä¸‹ä¸¤è¡Œï¼Œæ–¹ä¾¿çœ‹ä¸Šä¸‹æ–‡

## å¸¸ç”¨å‚æ•°
### -- Ignore
å¦‚ `--ignore *pack*`
### æ‰“å°å‰å
å¦‚ `-A 3` å¯ä»¥æ‰“å°æœç´¢ç»“æœçš„ after 3 è¡Œã€‚  
`-B 3` å¯ä»¥æ‰“å° before çš„ 3 è¡Œ
### åªæ‰“æ–‡ä»¶å
`-l` è¡¨ç¤º files-with-matchesï¼Œå³åŒ¹é…çš„æ–‡ä»¶åˆ—è¡¨
### å…¨è¯åŒ¹é…
`-w`
### åªè¾“å‡ºåŒ¹é…çš„éƒ¨åˆ†
`-o` ç”¨äºåªè¾“å‡ºåŒ¹é…éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ•´è¡Œã€‚

## åº”ç”¨
æŠŠæ‰€æœ‰çš„ png å›¾ç‰‡æ‰¾å‡ºæ¥ï¼Œç„¶åæŒ‰å¤§å°æ’åºï¼š
```bash
ag -0 -g .png$ . | xargs -0 du -h | sort -hr
```
![[assets/local_image_plus/085e9ed0cac92342df818071b090c46f_MD5.png]]
### `-0` é€‰é¡¹
- å®ƒä¸»è¦æ˜¯ä¸ºäº†é…åˆ xargs -0 ä½¿ç”¨ï¼Œå¸¸ç”¨äºå°†ç»“æœä¼ é€’ç»™å®ƒæ¥æ”¯æŒç©ºåˆ†éš”ç¬¦çš„å‘½ä»¤
- **åŠŸèƒ½**ï¼šæŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶åä»¥Â **ç©ºå­—ç¬¦ï¼ˆNull å­—ç¬¦ï¼‰**Â åˆ†éš”ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„æ¢è¡Œç¬¦ã€‚
- **ç”¨é€”**ï¼šå½“æ–‡ä»¶ååŒ…å«æ¢è¡Œç¬¦æˆ–ç©ºæ ¼æ—¶ï¼Œä½¿ç”¨Â `-0`Â å¯ä»¥é¿å…è§£æé”™è¯¯ã€‚
