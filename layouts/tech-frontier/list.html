{{ define "main" }}
    {{/* 过滤带有 "互联网/前沿进展" 标签的文章 */}}
    {{ $targetTag := "互联网/前沿进展" }}
    {{ $taggedPages := slice }}

    {{ range $page := .Site.RegularPages }}
        {{ if eq $page.Type "articles" }}
            {{ if ne $page.Params.hidden true }}
                {{ if $page.Params.tags }}
                    {{ if in $page.Params.tags $targetTag }}
                        {{ $taggedPages = $taggedPages | append $page }}
                    {{ end }}
                {{ end }}
            {{ end }}
        {{ end }}
    {{ end }}

    {{ $paginator := .Paginate $taggedPages }}

    {{/* 调试信息 - 生产环境可以删除 */}}
    <!-- 找到 {{ len $taggedPages }} 篇文章 -->

    <section class="article-list--compact">
        {{ if gt (len $paginator.Pages) 0 }}
            {{ range $paginator.Pages }}
                {{ partial "article-list/compact" . }}
            {{ end }}
        {{ else }}
            <div class="no-articles" style="text-align: center; padding: 4rem 2rem; color: var(--card-text-color-tertiary);">
                <p>暂无相关文章</p>
            </div>
        {{ end }}
    </section>

    {{- partial "pagination.html" . -}}
    {{- partial "footer/footer" . -}}
{{ end }}

{{/* 不显示左侧边栏 */}}
{{ define "left-sidebar" }}{{ end }}

{{ define "right-sidebar" }}
    {{ partial "sidebar/right.html" (dict "Context" . "Scope" "homepage") }}
{{ end }}
